ðŸŽ¯ Setting up and testing regression framework...
ðŸŽ¯ Creating Formal Regression Test Framework
============================================

ðŸ“‹ Creating Regression Test Scripts...
------------------------------------
âœ… Regression framework created!
==============================

ðŸ“ Created regression test scripts:
complete-success-test.sh
comprehensive-validation.sh
final-test.sh
integration-tests.sh
quick-test-fix.sh
quick-test.sh
regression-daily.sh
regression-e2e.sh
regression-full.sh
regression-integration.sh
regression-performance.sh
regression-security.sh
regression-unit.sh
security-tests.sh
test-aws-openshift.sh
test-fixes.sh
test-implementation-check.sh
test-imports.sh
test-mcp-protocol.sh
test-v2-api.sh
unit-tests.sh
validate-phase-2a1.sh
validate-real-scenario.sh
validate-tool-accuracy.sh
validate-v2-tools.sh
victory-test.sh

ðŸŽ¯ Usage Examples:
  scripts/test/regression-full.sh        # Complete regression suite
  scripts/test/regression-unit.sh        # Unit test regression only
  scripts/test/regression-security.sh    # Security regression only
  scripts/test/regression-daily.sh       # Quick daily check

ðŸ“‹ Next Steps:
  1. Test the framework: scripts/test/regression-daily.sh
  2. Update package.json scripts for easy access
  3. Add more E2E test implementations as needed

âœ… Formal regression test framework ready!

ðŸ§ª Running preliminary test...
ðŸ“… Daily Regression Check
========================

> mcp-ocs@0.1.0 test:unit
> jest tests/unit --passWithNoTests --silent

PASS tests/unit/environment.test.ts
  Environment Check
    âœ“ should have Node.js environment (1 ms)
    âœ“ should be able to create basic objects
    âœ“ should handle async operations

PASS tests/unit/basic.test.ts
  Basic Test Setup
    âœ“ should have working Jest environment
    âœ“ should have test utilities available
    âœ“ should create test configuration
    âœ“ should mock OpenShift responses

FAIL tests/unit/openshift/openshift-client.test.ts
  â— Test suite failed to run

    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m11[0m:[93m1[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m11[0m jest.mock('child_process');
    [7m  [0m [91m~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m12[0m:[93m1[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m12[0m jest.mock('util');
    [7m  [0m [91m~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m14[0m:[93m23[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m14[0m const mockExecAsync = jest.fn();
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m15[0m:[93m15[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m15[0m (promisify as jest.Mock).mockReturnValue(mockExecAsync);
    [7m  [0m [91m              ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m17[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m17[0m describe('OpenShiftClient', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m21[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m21[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m27[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m27[0m     jest.clearAllMocks();
    [7m  [0m [91m    ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m31[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m31[0m   describe('Constructor and Configuration Validation', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m32[0m     it('should initialize with valid configuration', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m33[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m38[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m38[0m     it('should reject invalid timeout values', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m39[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m39[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m43[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m43[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m48[0m     it('should reject invalid namespace format', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m49[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m53[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m53[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m58[0m     it('should reject dangerous oc path', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m59[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m59[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m63[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m63[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m69[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m69[0m   describe('Input Sanitization', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m70[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m70[0m     beforeEach(() => {
    [7m  [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m74[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m74[0m     it('should sanitize valid arguments', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m78[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m78[0m       expect(sanitizeArgument('get')).toBe('get');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m79[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m79[0m       expect(sanitizeArgument('pods')).toBe('pods');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m80[0m       expect(sanitizeArgument('my-namespace')).toBe('my-namespace');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m81[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m81[0m       expect(sanitizeArgument('-o')).toBe('-o');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m82[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m82[0m       expect(sanitizeArgument('json')).toBe('json');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m85[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m85[0m     it('should reject dangerous command injection patterns', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m101[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m101[0m         expect(() => sanitizeArgument(input)).toThrow('Argument contains dangerous pattern');
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m105[0m     it('should reject overly long arguments', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m109[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m109[0m       expect(() => sanitizeArgument(longInput)).toThrow('Argument too long');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m112[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m112[0m     it('should reject null or non-string arguments', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m115[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m115[0m       expect(() => sanitizeArgument(null)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m116[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m116[0m       expect(() => sanitizeArgument(undefined)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m117[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m117[0m       expect(() => sanitizeArgument('')).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m118[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m118[0m       expect(() => sanitizeArgument(123 as any)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m122[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m122[0m   describe('Command Execution', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m123[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m123[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m127[0m     it('should execute valid commands successfully', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m128[0m:[93m28[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m128[0m       const mockResponse = testUtils.mockOcResponse('get pods', JSON.stringify({
    [7m   [0m [91m                           ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m142[0m       expect(pods).toHaveLength(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m143[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m143[0m       expect(pods[0].name).toBe('test-pod');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m144[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m144[0m       expect(pods[0].status).toBe('Running');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m145[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m145[0m       expect(mockExecAsync).toHaveBeenCalledWith(
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m146[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m146[0m         expect.stringContaining('oc get pods'),
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m147[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m147[0m         expect.objectContaining({
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m154[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m154[0m     it('should handle command timeouts gracefully', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m156[0m:[93m20[0m - [91merror[0m[90m TS2339: [0mProperty 'code' does not exist on type 'Error'.

    [7m156[0m       timeoutError.code = 'ETIMEDOUT';
    [7m   [0m [91m                   ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m159[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m159[0m       await expect(client.getPods()).rejects.toThrow('OpenShift operation timed out: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m162[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m162[0m     it('should handle authentication errors', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m164[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m164[0m       authError.stderr = 'error: You must be logged in to the server (Unauthorized)';
    [7m   [0m [91m                ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m167[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m167[0m       await expect(client.getPods()).rejects.toThrow('OpenShift authentication failed: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m170[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m170[0m     it('should handle resource not found errors', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m172[0m:[93m21[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m172[0m       notFoundError.stderr = 'error: the server could not find the requested resource (NotFound)';
    [7m   [0m [91m                    ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m175[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m175[0m       await expect(client.getPods()).rejects.toThrow('OpenShift resource not found: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m179[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m179[0m   describe('Circuit Breaker Pattern', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m180[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m180[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m184[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m184[0m     it('should allow operations when circuit is closed', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m185[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m185[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('get pods', '{"items":[]}'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m188[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m188[0m       expect(result.status).toBe('connected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m191[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m191[0m     it('should open circuit after repeated failures', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m205[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m205[0m       await expect(client.getClusterInfo()).rejects.toThrow('Circuit breaker openshift-cli is open');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m208[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m208[0m     it('should transition to half-open after timeout', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m222[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m222[0m       jest.spyOn(Date, 'now')
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m227[0m:[93m43[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m227[0m       mockExecAsync.mockResolvedValueOnce(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                          ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m230[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m230[0m       expect(result.status).toBe('connected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m234[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m234[0m   describe('Request Deduplication', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m235[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m235[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m239[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m239[0m     it('should deduplicate identical concurrent requests', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m240[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m240[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m252[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m       expect(mockExecAsync).toHaveBeenCalledTimes(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m255[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m255[0m     it('should not deduplicate different requests', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m257[0m:[93m32[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m257[0m         .mockResolvedValueOnce(testUtils.mockOcResponse('whoami', 'test-user'))
    [7m   [0m [91m                               ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m258[0m:[93m32[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m258[0m         .mockResolvedValueOnce(testUtils.mockOcResponse('get pods', '{"items":[]}'));
    [7m   [0m [91m                               ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m265[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m265[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m269[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m269[0m   describe('Caching Behavior', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m270[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m270[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m272[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m272[0m       jest.spyOn(Date, 'now').mockReturnValue(1000);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m275[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m275[0m     afterEach(() => {
    [7m   [0m [91m    ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m276[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m276[0m       jest.restoreAllMocks();
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m279[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m279[0m     it('should cache cluster info for TTL period', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m280[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m280[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m286[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m286[0m       jest.spyOn(Date, 'now').mockReturnValue(1000 + 15000); // 15 seconds later
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m290[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m290[0m       expect(mockExecAsync).toHaveBeenCalledTimes(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m293[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m293[0m     it('should refresh cache after TTL expires', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m294[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m294[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m300[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m300[0m       jest.spyOn(Date, 'now').mockReturnValue(1000 + 35000); // 35 seconds later
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m304[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m304[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m307[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m307[0m     it('should allow manual cache clearing', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m308[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m308[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m319[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m319[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m323[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m323[0m   describe('Health Monitoring', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m324[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m324[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m328[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m328[0m     it('should report healthy status when circuit is closed', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m331[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m331[0m       expect(health.healthy).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m332[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m332[0m       expect(health.issues).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m335[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m335[0m     it('should report unhealthy status when circuit is open', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m350[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m350[0m       expect(health.healthy).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m351[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m351[0m       expect(health.issues).toContain('Circuit breaker is open');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m354[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m354[0m     it('should report issues when request queue is high', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m364[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m364[0m       expect(health.healthy).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m365[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m365[0m       expect(health.issues.some(issue => issue.includes('High number of queued requests'))).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m369[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m369[0m   describe('Environment Security', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m370[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m370[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m374[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m374[0m     it('should remove dangerous environment variables', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m383[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m383[0m       expect(env.LD_PRELOAD).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m384[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m384[0m       expect(env.LD_LIBRARY_PATH).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m387[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m387[0m     it('should preserve KUBECONFIG when specified', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m398[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m398[0m       expect(env.KUBECONFIG).toBe('/path/to/kubeconfig');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m402[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m402[0m   describe('Error Message Sanitization', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m403[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m403[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m407[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m407[0m     it('should limit stderr output in logs', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m409[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m409[0m       longError.stderr = 'A'.repeat(500) + 'sensitive-information';
    [7m   [0m [91m                ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m416[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m416[0m         expect(error.message).toContain('OpenShift command failed');
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m416[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'error' is of type 'unknown'.

    [7m416[0m         expect(error.message).toContain('OpenShift command failed');
    [7m   [0m [91m               ~~~~~[0m

FAIL tests/unit/logging/structured-logger.test.ts
  â— Test suite failed to run

    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m8[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m8[0m describe('StructuredLogger', () => {
    [7m [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m10[0m:[93m23[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m10[0m   let mockConsoleLog: jest.SpyInstance;
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m11[0m:[93m25[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m11[0m   let mockConsoleError: jest.SpyInstance;
    [7m  [0m [91m                        ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m12[0m:[93m24[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m12[0m   let mockConsoleWarn: jest.SpyInstance;
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m13[0m:[93m25[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m13[0m   let mockConsoleDebug: jest.SpyInstance;
    [7m  [0m [91m                        ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m15[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m19[0m:[93m22[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m19[0m     mockConsoleLog = jest.spyOn(console, 'log').mockImplementation();
    [7m  [0m [91m                     ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m20[0m:[93m24[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m20[0m     mockConsoleError = jest.spyOn(console, 'error').mockImplementation();
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m21[0m:[93m23[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m21[0m     mockConsoleWarn = jest.spyOn(console, 'warn').mockImplementation();
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m22[0m:[93m24[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m22[0m     mockConsoleDebug = jest.spyOn(console, 'debug').mockImplementation();
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m25[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m25[0m   afterEach(() => {
    [7m  [0m [91m  ~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m26[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m26[0m     jest.restoreAllMocks();
    [7m  [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m29[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m29[0m   describe('Basic Logging', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m30[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m30[0m     it('should log debug messages when level allows', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m33[0m       expect(mockConsoleDebug).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m34[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m34[0m         expect.stringContaining('"level":"debug"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m36[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m36[0m       expect(mockConsoleDebug).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m37[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m37[0m         expect.stringContaining('"message":"Test debug message"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m41[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m41[0m     it('should log info messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m44[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m44[0m       expect(mockConsoleLog).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m45[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m45[0m         expect.stringContaining('"level":"info"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m49[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m49[0m     it('should log warning messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m52[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m52[0m       expect(mockConsoleWarn).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m53[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m53[0m         expect.stringContaining('"level":"warn"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m57[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m57[0m     it('should log error messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m61[0m       expect(mockConsoleError).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m62[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m62[0m         expect.stringContaining('"level":"error"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m64[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m64[0m       expect(mockConsoleError).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m65[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m65[0m         expect.stringContaining('"message":"Test error message"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m70[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m70[0m   describe('Log Level Filtering', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m71[0m     it('should respect log level settings', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m77[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m77[0m       expect(mockConsoleDebug).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m84[0m       expect(mockConsoleLog).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m85[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m85[0m       expect(mockConsoleWarn).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m86[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m86[0m       expect(mockConsoleError).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m89[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m89[0m     it('should filter based on error level', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m96[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m96[0m       expect(mockConsoleDebug).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m97[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m97[0m       expect(mockConsoleLog).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m98[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m98[0m       expect(mockConsoleWarn).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m101[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m101[0m       expect(mockConsoleError).toHaveBeenCalled();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m105[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m105[0m   describe('Context Handling', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m106[0m     it('should include context in log output', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m118[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m118[0m       expect(logEntry.context.sessionId).toBe('test-session');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m119[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m119[0m       expect(logEntry.context.operation).toBe('test-operation');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m120[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m120[0m       expect(logEntry.context.duration).toBe(150);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m123[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m123[0m     it('should sanitize sensitive data in context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m136[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m136[0m       expect(logEntry.context.password).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m137[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m137[0m       expect(logEntry.context.token).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m138[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m138[0m       expect(logEntry.context.apiKey).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m139[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m139[0m       expect(logEntry.context.normal).toBe('normal-value');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m142[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m142[0m     it('should truncate very long strings', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m153[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m153[0m       expect(logEntry.context.longString).toContain('[TRUNCATED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m154[0m       expect(logEntry.context.longString.length).toBeLessThan(1100);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m155[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m155[0m       expect(logEntry.context.normalString).toBe('normal');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m159[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m159[0m   describe('Error Handling', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m160[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m160[0m     it('should handle Error objects properly', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m170[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m170[0m       expect(logEntry.error.message).toBe('Test error message');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m171[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m171[0m       expect(logEntry.error.name).toBe('TestError');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m172[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m172[0m       expect(logEntry.error.stack).toBe('Error stack trace');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m173[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m173[0m       expect(logEntry.context.sessionId).toBe('test');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m176[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m176[0m     it('should exclude error from context when moved to error field', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m189[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m189[0m       expect(logEntry.error).toBeDefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m190[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m190[0m       expect(logEntry.context.error).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m191[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m191[0m       expect(logEntry.context.sessionId).toBe('test');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m192[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m192[0m       expect(logEntry.context.otherData).toBe('value');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m196[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m196[0m   describe('Specialized Logging Methods', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m197[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m197[0m     it('should log tool execution with proper context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m206[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m206[0m       expect(logEntry.message).toBe('Tool execution completed');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m207[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m207[0m       expect(logEntry.context.toolName).toBe('oc_get_pods');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m208[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m208[0m       expect(logEntry.context.sessionId).toBe('session-123');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m209[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m209[0m       expect(logEntry.context.duration).toBe(250);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m210[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m210[0m       expect(logEntry.context.success).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m211[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m211[0m       expect(logEntry.context.operation).toBe('tool_execution');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m214[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m214[0m     it('should log workflow transitions', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m222[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m222[0m       expect(logEntry.message).toBe('Workflow state transition');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m223[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m223[0m       expect(logEntry.context.fromState).toBe('gathering');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m224[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m224[0m       expect(logEntry.context.toState).toBe('analyzing');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m225[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m225[0m       expect(logEntry.context.operation).toBe('workflow_transition');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m228[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m228[0m     it('should log memory operations', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m236[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m236[0m       expect(logEntry.message).toBe('Memory operation completed');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m237[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m237[0m       expect(logEntry.context.operation).toBe('memory_search');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m238[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m238[0m       expect(logEntry.context.resultCount).toBe(5);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m241[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m241[0m     it('should log panic detection as warning', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m250[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m250[0m       expect(logEntry.level).toBe('warn');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m251[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m251[0m       expect(logEntry.message).toBe('Panic pattern detected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m252[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m       expect(logEntry.context.panicType).toBe('rapid-fire');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m253[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m253[0m       expect(logEntry.context.severity).toBe('high');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m257[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m257[0m   describe('Log Entry Structure', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m258[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m258[0m     it('should produce properly structured JSON logs', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m264[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m264[0m       expect(logEntry).toMatchObject({
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m267[0m:[93m20[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m267[0m         timestamp: expect.any(String),
    [7m   [0m [91m                   ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m275[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m275[0m       expect(new Date(logEntry.timestamp)).toBeInstanceOf(Date);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m278[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m278[0m     it('should handle logs without context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m284[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m284[0m       expect(logEntry.context).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m285[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m285[0m       expect(logEntry.message).toBe('Simple message');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m290[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m290[0m describe('withTiming utility', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m293[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m293[0m   beforeEach(() => {
    [7m   [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m295[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m295[0m     jest.spyOn(mockLogger, 'debug').mockImplementation();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m296[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m296[0m     jest.spyOn(mockLogger, 'error').mockImplementation();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m299[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m299[0m     jest.doMock('../../../src/lib/logging/structured-logger.js', () => ({
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m304[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m304[0m   afterEach(() => {
    [7m   [0m [91m  ~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m305[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m305[0m     jest.restoreAllMocks();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m308[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m308[0m   it('should time successful operations', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m309[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m309[0m     const mockOperation = jest.fn().mockResolvedValue('success');
    [7m   [0m [91m                          ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m314[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m314[0m     expect(result).toBe('success');
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m315[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m315[0m     expect(mockOperation).toHaveBeenCalledWith('arg1', 'arg2');
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m318[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m318[0m   it('should time failed operations', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m320[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m320[0m     const mockOperation = jest.fn().mockRejectedValue(mockError);
    [7m   [0m [91m                          ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m323[0m:[93m11[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m323[0m     await expect(timedOperation()).rejects.toThrow('Operation failed');
    [7m   [0m [91m          ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m327[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m327[0m describe('LogMethod decorator', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m328[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m328[0m   it('should wrap class methods with timing', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m330[0m:[93m7[0m - [91merror[0m[90m TS1241: [0mUnable to resolve signature of method decorator when called as an expression.
      The runtime will invoke the decorator with 2 arguments, but the decorator expects 3.

    [7m330[0m       @LogMethod('custom-operation')
    [7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

      [96msrc/lib/logging/structured-logger.ts[0m:[93m239[0m:[93m55[0m
        [7m239[0m   return function (target: any, propertyName: string, descriptor: PropertyDescriptor) {
        [7m   [0m [96m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        An argument for 'descriptor' was not provided.
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m339[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m339[0m     expect(result).toBe('processed-input');
    [7m   [0m [91m    ~~~~~~[0m

FAIL tests/unit/config/schema.test.ts
  â— Test suite failed to run

    [96mtests/unit/config/schema.test.ts[0m:[93m14[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m14[0m describe('Configuration Schema', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m15[0m   describe('Type Guards', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m16[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m16[0m     describe('isValidEnvironment', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m17[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m17[0m       it('should accept valid environments', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m18[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m18[0m         expect(isValidEnvironment('dev')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m19[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m19[0m         expect(isValidEnvironment('test')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m20[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m20[0m         expect(isValidEnvironment('staging')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m21[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m21[0m         expect(isValidEnvironment('prod')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m24[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m24[0m       it('should reject invalid environments', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m25[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m25[0m         expect(isValidEnvironment('development')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m26[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m26[0m         expect(isValidEnvironment('production')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m27[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m27[0m         expect(isValidEnvironment('local')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m28[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m28[0m         expect(isValidEnvironment('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m32[0m     describe('isValidLogLevel', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m33[0m       it('should accept valid log levels', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m34[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m34[0m         expect(isValidLogLevel('debug')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m35[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m35[0m         expect(isValidLogLevel('info')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m36[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m36[0m         expect(isValidLogLevel('warn')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m37[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m37[0m         expect(isValidLogLevel('error')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m40[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m40[0m       it('should reject invalid log levels', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m41[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m41[0m         expect(isValidLogLevel('verbose')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m42[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m42[0m         expect(isValidLogLevel('fatal')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m43[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m43[0m         expect(isValidLogLevel('trace')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m44[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m44[0m         expect(isValidLogLevel('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m48[0m     describe('isValidToolMode', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m49[0m       it('should accept valid tool modes', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m50[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m50[0m         expect(isValidToolMode('single')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m51[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m51[0m         expect(isValidToolMode('team')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m52[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m52[0m         expect(isValidToolMode('router')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m55[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m55[0m       it('should reject invalid tool modes', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m56[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m56[0m         expect(isValidToolMode('multi')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m57[0m         expect(isValidToolMode('standalone')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m58[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m58[0m         expect(isValidToolMode('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m63[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m63[0m   describe('Configuration Schema Defaults', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m64[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m64[0m     it('should have proper memory defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m65[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m65[0m       expect(CONFIG_SCHEMA.memory.namespace.default).toBe('mcp-ocs');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m66[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m66[0m       expect(CONFIG_SCHEMA.memory.chromaHost.default).toBe('127.0.0.1');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m67[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m67[0m       expect(CONFIG_SCHEMA.memory.chromaPort.default).toBe(8000);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m68[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m68[0m       expect(CONFIG_SCHEMA.memory.jsonDir.default).toBe('./logs/memory');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m71[0m     it('should have proper OpenShift defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m72[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m72[0m       expect(CONFIG_SCHEMA.openshift.ocPath.default).toBe('oc');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m73[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m73[0m       expect(CONFIG_SCHEMA.openshift.timeout.default).toBe(30000);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m76[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m76[0m     it('should have proper workflow defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m77[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m77[0m       expect(CONFIG_SCHEMA.workflow.panicDetection.default).toBe(true);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m78[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m78[0m       expect(CONFIG_SCHEMA.workflow.enforcement.default).toBe('guidance');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m79[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m79[0m       expect(CONFIG_SCHEMA.workflow.minEvidence.default).toBe(2);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m84[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m84[0m describe('ConfigValidator', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m87[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m87[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m91[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m91[0m   describe('validateConfiguration', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m92[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m92[0m     it('should validate a complete valid configuration', async () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m93[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m93[0m       const validConfig = testUtils.createTestConfig();
    [7m  [0m [91m                          ~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m96[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m96[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m97[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m97[0m       jest.spyOn(validator as any, 'validateMemoryDirectory').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m98[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m98[0m       jest.spyOn(validator as any, 'validateChromaDB').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m102[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m102[0m       expect(result.valid).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m103[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m103[0m       expect(result.errors).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m106[0m     it('should return errors for invalid configuration', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m119[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m119[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockRejectedValue(new Error('oc not found'));
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m121[0m:[93m60[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ memory: { namespace: string; chromaPort: number; jsonDir: string; }; workflow: { minEvidence: number; }; }' is not assignable to parameter of type 'Partial<ConfigSchema>'.
      Types of property 'memory' are incompatible.
        Type '{ namespace: string; chromaPort: number; jsonDir: string; }' is missing the following properties from type '{ namespace: string; chromaHost: string; chromaPort: number; jsonDir: string; compression: boolean; }': chromaHost, compression

    [7m121[0m       const result = await validator.validateConfiguration(invalidConfig);
    [7m   [0m [91m                                                           ~~~~~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m123[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m123[0m       expect(result.valid).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m124[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m124[0m       expect(result.errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m125[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m125[0m       expect(result.errors.some(e => e.includes('INVALID-NAMESPACE'))).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m128[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m128[0m     it('should handle ChromaDB connectivity warnings', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m129[0m:[93m22[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m129[0m       const config = testUtils.createTestConfig();
    [7m   [0m [91m                     ~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m132[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m132[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockResolvedValue(undefined);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m133[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m133[0m       jest.spyOn(validator as any, 'validateMemoryDirectory').mockResolvedValue(undefined);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m76[0m - [91merror[0m[90m TS7006: [0mParameter '_' implicitly has an 'any' type.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m                                                                           ~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m79[0m - [91merror[0m[90m TS7006: [0mParameter 'warnings' implicitly has an 'any' type.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m                                                                              ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m141[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m141[0m       expect(result.valid).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m142[0m       expect(result.warnings).toContain('ChromaDB not reachable - will use JSON fallback');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m146[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m146[0m   describe('validateField', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m147[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m147[0m     it('should accept valid field values', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m154[0m       expect(errors).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m157[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m157[0m     it('should reject invalid field values', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m164[0m       expect(errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m165[0m       expect(errors[0]).toContain('Log level must be debug, info, warn, or error');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m168[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m168[0m     it('should handle missing required fields', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m176[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m176[0m       expect(errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m177[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m177[0m       expect(errors[0]).toContain('Required field missing');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m182[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m182[0m describe('Configuration Security', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m183[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m183[0m   it('should prevent path traversal in jsonDir', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m193[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m193[0m       expect(rule.validator!(path)).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m197[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m197[0m   it('should accept safe relative paths', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m207[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m207[0m       expect(rule.validator!(path)).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m211[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m211[0m   it('should validate namespace format', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m215[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m215[0m     expect(rule.validator!('mcp-ocs')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m216[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m216[0m     expect(rule.validator!('test-123')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m217[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m217[0m     expect(rule.validator!('a')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m220[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m220[0m     expect(rule.validator!('MCP-OCS')).toBe(false); // Uppercase
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m221[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m221[0m     expect(rule.validator!('-invalid')).toBe(false); // Leading hyphen
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m222[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m222[0m     expect(rule.validator!('invalid-')).toBe(false); // Trailing hyphen
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m223[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m223[0m     expect(rule.validator!('inv@lid')).toBe(false); // Special characters
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m226[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m226[0m   it('should validate port ranges', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m230[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m230[0m     expect(rule.validator!(8000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m231[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m231[0m     expect(rule.validator!(3000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m232[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m232[0m     expect(rule.validator!(65535)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m235[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m235[0m     expect(rule.validator!(0)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m236[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m236[0m     expect(rule.validator!(-1)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m237[0m     expect(rule.validator!(65536)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m238[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m238[0m     expect(rule.validator!(99999)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m241[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m241[0m   it('should validate timeout ranges', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m245[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m245[0m     expect(rule.validator!(5000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m246[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m246[0m     expect(rule.validator!(30000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m247[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m247[0m     expect(rule.validator!(60000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m250[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m250[0m     expect(rule.validator!(500)).toBe(false); // Too short
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m251[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m251[0m     expect(rule.validator!(400000)).toBe(false); // Too long
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m252[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m     expect(rule.validator!(-1000)).toBe(false); // Negative
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m255[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m255[0m   it('should validate evidence requirements', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m259[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m259[0m     expect(rule.validator!(1)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m260[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m260[0m     expect(rule.validator!(5)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m261[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m261[0m     expect(rule.validator!(10)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m264[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m264[0m     expect(rule.validator!(0)).toBe(false); // Too low
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m265[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m265[0m     expect(rule.validator!(15)).toBe(false); // Too high
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m266[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m266[0m     expect(rule.validator!(-1)).toBe(false); // Negative
    [7m   [0m [91m    ~~~~~~[0m

Test Suites: 3 failed, 2 passed, 5 total
Tests:       7 passed, 7 total
Snapshots:   0 total
Time:        0.94 s, estimated 1 s

> mcp-ocs@0.1.0 test:unit
> jest tests/unit --testNamePattern=validation|security --silent

FAIL tests/unit/logging/structured-logger.test.ts
  â— Test suite failed to run

    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m8[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m8[0m describe('StructuredLogger', () => {
    [7m [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m10[0m:[93m23[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m10[0m   let mockConsoleLog: jest.SpyInstance;
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m11[0m:[93m25[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m11[0m   let mockConsoleError: jest.SpyInstance;
    [7m  [0m [91m                        ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m12[0m:[93m24[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m12[0m   let mockConsoleWarn: jest.SpyInstance;
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m13[0m:[93m25[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m13[0m   let mockConsoleDebug: jest.SpyInstance;
    [7m  [0m [91m                        ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m15[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m19[0m:[93m22[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m19[0m     mockConsoleLog = jest.spyOn(console, 'log').mockImplementation();
    [7m  [0m [91m                     ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m20[0m:[93m24[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m20[0m     mockConsoleError = jest.spyOn(console, 'error').mockImplementation();
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m21[0m:[93m23[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m21[0m     mockConsoleWarn = jest.spyOn(console, 'warn').mockImplementation();
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m22[0m:[93m24[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m22[0m     mockConsoleDebug = jest.spyOn(console, 'debug').mockImplementation();
    [7m  [0m [91m                       ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m25[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m25[0m   afterEach(() => {
    [7m  [0m [91m  ~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m26[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m26[0m     jest.restoreAllMocks();
    [7m  [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m29[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m29[0m   describe('Basic Logging', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m30[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m30[0m     it('should log debug messages when level allows', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m33[0m       expect(mockConsoleDebug).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m34[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m34[0m         expect.stringContaining('"level":"debug"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m36[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m36[0m       expect(mockConsoleDebug).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m37[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m37[0m         expect.stringContaining('"message":"Test debug message"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m41[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m41[0m     it('should log info messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m44[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m44[0m       expect(mockConsoleLog).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m45[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m45[0m         expect.stringContaining('"level":"info"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m49[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m49[0m     it('should log warning messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m52[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m52[0m       expect(mockConsoleWarn).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m53[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m53[0m         expect.stringContaining('"level":"warn"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m57[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m57[0m     it('should log error messages', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m61[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m61[0m       expect(mockConsoleError).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m62[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m62[0m         expect.stringContaining('"level":"error"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m64[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m64[0m       expect(mockConsoleError).toHaveBeenCalledWith(
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m65[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m65[0m         expect.stringContaining('"message":"Test error message"')
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m70[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m70[0m   describe('Log Level Filtering', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m71[0m     it('should respect log level settings', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m77[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m77[0m       expect(mockConsoleDebug).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m84[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m84[0m       expect(mockConsoleLog).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m85[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m85[0m       expect(mockConsoleWarn).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m86[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m86[0m       expect(mockConsoleError).toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m89[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m89[0m     it('should filter based on error level', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m96[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m96[0m       expect(mockConsoleDebug).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m97[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m97[0m       expect(mockConsoleLog).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m98[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m98[0m       expect(mockConsoleWarn).not.toHaveBeenCalled();
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m101[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m101[0m       expect(mockConsoleError).toHaveBeenCalled();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m105[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m105[0m   describe('Context Handling', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m106[0m     it('should include context in log output', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m118[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m118[0m       expect(logEntry.context.sessionId).toBe('test-session');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m119[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m119[0m       expect(logEntry.context.operation).toBe('test-operation');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m120[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m120[0m       expect(logEntry.context.duration).toBe(150);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m123[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m123[0m     it('should sanitize sensitive data in context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m136[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m136[0m       expect(logEntry.context.password).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m137[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m137[0m       expect(logEntry.context.token).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m138[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m138[0m       expect(logEntry.context.apiKey).toBe('[REDACTED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m139[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m139[0m       expect(logEntry.context.normal).toBe('normal-value');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m142[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m142[0m     it('should truncate very long strings', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m153[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m153[0m       expect(logEntry.context.longString).toContain('[TRUNCATED]');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m154[0m       expect(logEntry.context.longString.length).toBeLessThan(1100);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m155[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m155[0m       expect(logEntry.context.normalString).toBe('normal');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m159[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m159[0m   describe('Error Handling', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m160[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m160[0m     it('should handle Error objects properly', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m170[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m170[0m       expect(logEntry.error.message).toBe('Test error message');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m171[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m171[0m       expect(logEntry.error.name).toBe('TestError');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m172[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m172[0m       expect(logEntry.error.stack).toBe('Error stack trace');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m173[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m173[0m       expect(logEntry.context.sessionId).toBe('test');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m176[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m176[0m     it('should exclude error from context when moved to error field', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m189[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m189[0m       expect(logEntry.error).toBeDefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m190[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m190[0m       expect(logEntry.context.error).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m191[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m191[0m       expect(logEntry.context.sessionId).toBe('test');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m192[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m192[0m       expect(logEntry.context.otherData).toBe('value');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m196[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m196[0m   describe('Specialized Logging Methods', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m197[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m197[0m     it('should log tool execution with proper context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m206[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m206[0m       expect(logEntry.message).toBe('Tool execution completed');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m207[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m207[0m       expect(logEntry.context.toolName).toBe('oc_get_pods');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m208[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m208[0m       expect(logEntry.context.sessionId).toBe('session-123');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m209[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m209[0m       expect(logEntry.context.duration).toBe(250);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m210[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m210[0m       expect(logEntry.context.success).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m211[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m211[0m       expect(logEntry.context.operation).toBe('tool_execution');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m214[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m214[0m     it('should log workflow transitions', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m222[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m222[0m       expect(logEntry.message).toBe('Workflow state transition');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m223[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m223[0m       expect(logEntry.context.fromState).toBe('gathering');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m224[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m224[0m       expect(logEntry.context.toState).toBe('analyzing');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m225[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m225[0m       expect(logEntry.context.operation).toBe('workflow_transition');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m228[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m228[0m     it('should log memory operations', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m236[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m236[0m       expect(logEntry.message).toBe('Memory operation completed');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m237[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m237[0m       expect(logEntry.context.operation).toBe('memory_search');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m238[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m238[0m       expect(logEntry.context.resultCount).toBe(5);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m241[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m241[0m     it('should log panic detection as warning', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m250[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m250[0m       expect(logEntry.level).toBe('warn');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m251[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m251[0m       expect(logEntry.message).toBe('Panic pattern detected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m252[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m       expect(logEntry.context.panicType).toBe('rapid-fire');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m253[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m253[0m       expect(logEntry.context.severity).toBe('high');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m257[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m257[0m   describe('Log Entry Structure', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m258[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m258[0m     it('should produce properly structured JSON logs', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m264[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m264[0m       expect(logEntry).toMatchObject({
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m267[0m:[93m20[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m267[0m         timestamp: expect.any(String),
    [7m   [0m [91m                   ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m275[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m275[0m       expect(new Date(logEntry.timestamp)).toBeInstanceOf(Date);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m278[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m278[0m     it('should handle logs without context', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m284[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m284[0m       expect(logEntry.context).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m285[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m285[0m       expect(logEntry.message).toBe('Simple message');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m290[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m290[0m describe('withTiming utility', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m293[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m293[0m   beforeEach(() => {
    [7m   [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m295[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m295[0m     jest.spyOn(mockLogger, 'debug').mockImplementation();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m296[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m296[0m     jest.spyOn(mockLogger, 'error').mockImplementation();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m299[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m299[0m     jest.doMock('../../../src/lib/logging/structured-logger.js', () => ({
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m304[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m304[0m   afterEach(() => {
    [7m   [0m [91m  ~~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m305[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m305[0m     jest.restoreAllMocks();
    [7m   [0m [91m    ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m308[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m308[0m   it('should time successful operations', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m309[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m309[0m     const mockOperation = jest.fn().mockResolvedValue('success');
    [7m   [0m [91m                          ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m314[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m314[0m     expect(result).toBe('success');
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m315[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m315[0m     expect(mockOperation).toHaveBeenCalledWith('arg1', 'arg2');
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m318[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m318[0m   it('should time failed operations', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m320[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m320[0m     const mockOperation = jest.fn().mockRejectedValue(mockError);
    [7m   [0m [91m                          ~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m323[0m:[93m11[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m323[0m     await expect(timedOperation()).rejects.toThrow('Operation failed');
    [7m   [0m [91m          ~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m327[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m327[0m describe('LogMethod decorator', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m328[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m328[0m   it('should wrap class methods with timing', async () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m330[0m:[93m7[0m - [91merror[0m[90m TS1241: [0mUnable to resolve signature of method decorator when called as an expression.
      The runtime will invoke the decorator with 2 arguments, but the decorator expects 3.

    [7m330[0m       @LogMethod('custom-operation')
    [7m   [0m [91m      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m

      [96msrc/lib/logging/structured-logger.ts[0m:[93m239[0m:[93m55[0m
        [7m239[0m   return function (target: any, propertyName: string, descriptor: PropertyDescriptor) {
        [7m   [0m [96m                                                      ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~[0m
        An argument for 'descriptor' was not provided.
    [96mtests/unit/logging/structured-logger.test.ts[0m:[93m339[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m339[0m     expect(result).toBe('processed-input');
    [7m   [0m [91m    ~~~~~~[0m

FAIL tests/unit/openshift/openshift-client.test.ts
  â— Test suite failed to run

    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m11[0m:[93m1[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m11[0m jest.mock('child_process');
    [7m  [0m [91m~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m12[0m:[93m1[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m12[0m jest.mock('util');
    [7m  [0m [91m~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m14[0m:[93m23[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m14[0m const mockExecAsync = jest.fn();
    [7m  [0m [91m                      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m15[0m:[93m15[0m - [91merror[0m[90m TS2503: [0mCannot find namespace 'jest'.

    [7m15[0m (promisify as jest.Mock).mockReturnValue(mockExecAsync);
    [7m  [0m [91m              ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m17[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m17[0m describe('OpenShiftClient', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m21[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m21[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m27[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m27[0m     jest.clearAllMocks();
    [7m  [0m [91m    ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m31[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m31[0m   describe('Constructor and Configuration Validation', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m32[0m     it('should initialize with valid configuration', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m33[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m38[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m38[0m     it('should reject invalid timeout values', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m39[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m39[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m43[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m43[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m48[0m     it('should reject invalid namespace format', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m49[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m53[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m53[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m58[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m58[0m     it('should reject dangerous oc path', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m59[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m59[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m63[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m63[0m       expect(() => {
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m69[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m69[0m   describe('Input Sanitization', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m70[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m70[0m     beforeEach(() => {
    [7m  [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m74[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m74[0m     it('should sanitize valid arguments', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m78[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m78[0m       expect(sanitizeArgument('get')).toBe('get');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m79[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m79[0m       expect(sanitizeArgument('pods')).toBe('pods');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m80[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m80[0m       expect(sanitizeArgument('my-namespace')).toBe('my-namespace');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m81[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m81[0m       expect(sanitizeArgument('-o')).toBe('-o');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m82[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m82[0m       expect(sanitizeArgument('json')).toBe('json');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m85[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m85[0m     it('should reject dangerous command injection patterns', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m101[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m101[0m         expect(() => sanitizeArgument(input)).toThrow('Argument contains dangerous pattern');
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m105[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m105[0m     it('should reject overly long arguments', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m109[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m109[0m       expect(() => sanitizeArgument(longInput)).toThrow('Argument too long');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m112[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m112[0m     it('should reject null or non-string arguments', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m115[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m115[0m       expect(() => sanitizeArgument(null)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m116[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m116[0m       expect(() => sanitizeArgument(undefined)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m117[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m117[0m       expect(() => sanitizeArgument('')).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m118[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m118[0m       expect(() => sanitizeArgument(123 as any)).toThrow('Invalid argument: must be non-empty string');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m122[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m122[0m   describe('Command Execution', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m123[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m123[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m127[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m127[0m     it('should execute valid commands successfully', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m128[0m:[93m28[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m128[0m       const mockResponse = testUtils.mockOcResponse('get pods', JSON.stringify({
    [7m   [0m [91m                           ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m142[0m       expect(pods).toHaveLength(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m143[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m143[0m       expect(pods[0].name).toBe('test-pod');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m144[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m144[0m       expect(pods[0].status).toBe('Running');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m145[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m145[0m       expect(mockExecAsync).toHaveBeenCalledWith(
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m146[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m146[0m         expect.stringContaining('oc get pods'),
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m147[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m147[0m         expect.objectContaining({
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m154[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m154[0m     it('should handle command timeouts gracefully', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m156[0m:[93m20[0m - [91merror[0m[90m TS2339: [0mProperty 'code' does not exist on type 'Error'.

    [7m156[0m       timeoutError.code = 'ETIMEDOUT';
    [7m   [0m [91m                   ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m159[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m159[0m       await expect(client.getPods()).rejects.toThrow('OpenShift operation timed out: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m162[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m162[0m     it('should handle authentication errors', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m164[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m164[0m       authError.stderr = 'error: You must be logged in to the server (Unauthorized)';
    [7m   [0m [91m                ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m167[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m167[0m       await expect(client.getPods()).rejects.toThrow('OpenShift authentication failed: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m170[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m170[0m     it('should handle resource not found errors', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m172[0m:[93m21[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m172[0m       notFoundError.stderr = 'error: the server could not find the requested resource (NotFound)';
    [7m   [0m [91m                    ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m175[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m175[0m       await expect(client.getPods()).rejects.toThrow('OpenShift resource not found: get');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m179[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m179[0m   describe('Circuit Breaker Pattern', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m180[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m180[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m184[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m184[0m     it('should allow operations when circuit is closed', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m185[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m185[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('get pods', '{"items":[]}'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m188[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m188[0m       expect(result.status).toBe('connected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m191[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m191[0m     it('should open circuit after repeated failures', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m205[0m:[93m13[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m205[0m       await expect(client.getClusterInfo()).rejects.toThrow('Circuit breaker openshift-cli is open');
    [7m   [0m [91m            ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m208[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m208[0m     it('should transition to half-open after timeout', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m222[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m222[0m       jest.spyOn(Date, 'now')
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m227[0m:[93m43[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m227[0m       mockExecAsync.mockResolvedValueOnce(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                          ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m230[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m230[0m       expect(result.status).toBe('connected');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m234[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m234[0m   describe('Request Deduplication', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m235[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m235[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m239[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m239[0m     it('should deduplicate identical concurrent requests', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m240[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m240[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m252[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m       expect(mockExecAsync).toHaveBeenCalledTimes(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m255[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m255[0m     it('should not deduplicate different requests', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m257[0m:[93m32[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m257[0m         .mockResolvedValueOnce(testUtils.mockOcResponse('whoami', 'test-user'))
    [7m   [0m [91m                               ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m258[0m:[93m32[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m258[0m         .mockResolvedValueOnce(testUtils.mockOcResponse('get pods', '{"items":[]}'));
    [7m   [0m [91m                               ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m265[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m265[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m269[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m269[0m   describe('Caching Behavior', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m270[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m270[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m272[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m272[0m       jest.spyOn(Date, 'now').mockReturnValue(1000);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m275[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'afterEach'.

    [7m275[0m     afterEach(() => {
    [7m   [0m [91m    ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m276[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m276[0m       jest.restoreAllMocks();
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m279[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m279[0m     it('should cache cluster info for TTL period', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m280[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m280[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m286[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m286[0m       jest.spyOn(Date, 'now').mockReturnValue(1000 + 15000); // 15 seconds later
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m290[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m290[0m       expect(mockExecAsync).toHaveBeenCalledTimes(1);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m293[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m293[0m     it('should refresh cache after TTL expires', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m294[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m294[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m300[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m300[0m       jest.spyOn(Date, 'now').mockReturnValue(1000 + 35000); // 35 seconds later
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m304[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m304[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m307[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m307[0m     it('should allow manual cache clearing', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m308[0m:[93m39[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m308[0m       mockExecAsync.mockResolvedValue(testUtils.mockOcResponse('whoami', 'test-user'));
    [7m   [0m [91m                                      ~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m319[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m319[0m       expect(mockExecAsync).toHaveBeenCalledTimes(2);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m323[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m323[0m   describe('Health Monitoring', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m324[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m324[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m328[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m328[0m     it('should report healthy status when circuit is closed', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m331[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m331[0m       expect(health.healthy).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m332[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m332[0m       expect(health.issues).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m335[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m335[0m     it('should report unhealthy status when circuit is open', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m350[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m350[0m       expect(health.healthy).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m351[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m351[0m       expect(health.issues).toContain('Circuit breaker is open');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m354[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m354[0m     it('should report issues when request queue is high', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m364[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m364[0m       expect(health.healthy).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m365[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m365[0m       expect(health.issues.some(issue => issue.includes('High number of queued requests'))).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m369[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m369[0m   describe('Environment Security', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m370[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m370[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m374[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m374[0m     it('should remove dangerous environment variables', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m383[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m383[0m       expect(env.LD_PRELOAD).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m384[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m384[0m       expect(env.LD_LIBRARY_PATH).toBeUndefined();
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m387[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m387[0m     it('should preserve KUBECONFIG when specified', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m398[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m398[0m       expect(env.KUBECONFIG).toBe('/path/to/kubeconfig');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m402[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m402[0m   describe('Error Message Sanitization', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m403[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m403[0m     beforeEach(() => {
    [7m   [0m [91m    ~~~~~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m407[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m407[0m     it('should limit stderr output in logs', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m409[0m:[93m17[0m - [91merror[0m[90m TS2339: [0mProperty 'stderr' does not exist on type 'Error'.

    [7m409[0m       longError.stderr = 'A'.repeat(500) + 'sensitive-information';
    [7m   [0m [91m                ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m416[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m416[0m         expect(error.message).toContain('OpenShift command failed');
    [7m   [0m [91m        ~~~~~~[0m
    [96mtests/unit/openshift/openshift-client.test.ts[0m:[93m416[0m:[93m16[0m - [91merror[0m[90m TS18046: [0m'error' is of type 'unknown'.

    [7m416[0m         expect(error.message).toContain('OpenShift command failed');
    [7m   [0m [91m               ~~~~~[0m

FAIL tests/unit/config/schema.test.ts
  â— Test suite failed to run

    [96mtests/unit/config/schema.test.ts[0m:[93m14[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m14[0m describe('Configuration Schema', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m15[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m15[0m   describe('Type Guards', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m16[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m16[0m     describe('isValidEnvironment', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m17[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m17[0m       it('should accept valid environments', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m18[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m18[0m         expect(isValidEnvironment('dev')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m19[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m19[0m         expect(isValidEnvironment('test')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m20[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m20[0m         expect(isValidEnvironment('staging')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m21[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m21[0m         expect(isValidEnvironment('prod')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m24[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m24[0m       it('should reject invalid environments', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m25[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m25[0m         expect(isValidEnvironment('development')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m26[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m26[0m         expect(isValidEnvironment('production')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m27[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m27[0m         expect(isValidEnvironment('local')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m28[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m28[0m         expect(isValidEnvironment('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m32[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m32[0m     describe('isValidLogLevel', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m33[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m33[0m       it('should accept valid log levels', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m34[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m34[0m         expect(isValidLogLevel('debug')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m35[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m35[0m         expect(isValidLogLevel('info')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m36[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m36[0m         expect(isValidLogLevel('warn')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m37[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m37[0m         expect(isValidLogLevel('error')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m40[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m40[0m       it('should reject invalid log levels', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m41[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m41[0m         expect(isValidLogLevel('verbose')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m42[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m42[0m         expect(isValidLogLevel('fatal')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m43[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m43[0m         expect(isValidLogLevel('trace')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m44[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m44[0m         expect(isValidLogLevel('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m48[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m48[0m     describe('isValidToolMode', () => {
    [7m  [0m [91m    ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m49[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m49[0m       it('should accept valid tool modes', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m50[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m50[0m         expect(isValidToolMode('single')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m51[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m51[0m         expect(isValidToolMode('team')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m52[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m52[0m         expect(isValidToolMode('router')).toBe(true);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m55[0m:[93m7[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m55[0m       it('should reject invalid tool modes', () => {
    [7m  [0m [91m      ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m56[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m56[0m         expect(isValidToolMode('multi')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m57[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m57[0m         expect(isValidToolMode('standalone')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m58[0m:[93m9[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m58[0m         expect(isValidToolMode('')).toBe(false);
    [7m  [0m [91m        ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m63[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m63[0m   describe('Configuration Schema Defaults', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m64[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m64[0m     it('should have proper memory defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m65[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m65[0m       expect(CONFIG_SCHEMA.memory.namespace.default).toBe('mcp-ocs');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m66[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m66[0m       expect(CONFIG_SCHEMA.memory.chromaHost.default).toBe('127.0.0.1');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m67[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m67[0m       expect(CONFIG_SCHEMA.memory.chromaPort.default).toBe(8000);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m68[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m68[0m       expect(CONFIG_SCHEMA.memory.jsonDir.default).toBe('./logs/memory');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m71[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m71[0m     it('should have proper OpenShift defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m72[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m72[0m       expect(CONFIG_SCHEMA.openshift.ocPath.default).toBe('oc');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m73[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m73[0m       expect(CONFIG_SCHEMA.openshift.timeout.default).toBe(30000);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m76[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m76[0m     it('should have proper workflow defaults', () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m77[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m77[0m       expect(CONFIG_SCHEMA.workflow.panicDetection.default).toBe(true);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m78[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m78[0m       expect(CONFIG_SCHEMA.workflow.enforcement.default).toBe('guidance');
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m79[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m79[0m       expect(CONFIG_SCHEMA.workflow.minEvidence.default).toBe(2);
    [7m  [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m84[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m84[0m describe('ConfigValidator', () => {
    [7m  [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m87[0m:[93m3[0m - [91merror[0m[90m TS2304: [0mCannot find name 'beforeEach'.

    [7m87[0m   beforeEach(() => {
    [7m  [0m [91m  ~~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m91[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m91[0m   describe('validateConfiguration', () => {
    [7m  [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m92[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m92[0m     it('should validate a complete valid configuration', async () => {
    [7m  [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m93[0m:[93m27[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m93[0m       const validConfig = testUtils.createTestConfig();
    [7m  [0m [91m                          ~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m96[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m96[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m97[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m97[0m       jest.spyOn(validator as any, 'validateMemoryDirectory').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m98[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m98[0m       jest.spyOn(validator as any, 'validateChromaDB').mockResolvedValue(undefined);
    [7m  [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m102[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m102[0m       expect(result.valid).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m103[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m103[0m       expect(result.errors).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m106[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m106[0m     it('should return errors for invalid configuration', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m119[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m119[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockRejectedValue(new Error('oc not found'));
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m121[0m:[93m60[0m - [91merror[0m[90m TS2345: [0mArgument of type '{ memory: { namespace: string; chromaPort: number; jsonDir: string; }; workflow: { minEvidence: number; }; }' is not assignable to parameter of type 'Partial<ConfigSchema>'.
      Types of property 'memory' are incompatible.
        Type '{ namespace: string; chromaPort: number; jsonDir: string; }' is missing the following properties from type '{ namespace: string; chromaHost: string; chromaPort: number; jsonDir: string; compression: boolean; }': chromaHost, compression

    [7m121[0m       const result = await validator.validateConfiguration(invalidConfig);
    [7m   [0m [91m                                                           ~~~~~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m123[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m123[0m       expect(result.valid).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m124[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m124[0m       expect(result.errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m125[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m125[0m       expect(result.errors.some(e => e.includes('INVALID-NAMESPACE'))).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m128[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m128[0m     it('should handle ChromaDB connectivity warnings', async () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m129[0m:[93m22[0m - [91merror[0m[90m TS2304: [0mCannot find name 'testUtils'.

    [7m129[0m       const config = testUtils.createTestConfig();
    [7m   [0m [91m                     ~~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m132[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m132[0m       jest.spyOn(validator as any, 'validateOpenShiftCli').mockResolvedValue(undefined);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m133[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m133[0m       jest.spyOn(validator as any, 'validateMemoryDirectory').mockResolvedValue(undefined);
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'jest'.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m      ~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m76[0m - [91merror[0m[90m TS7006: [0mParameter '_' implicitly has an 'any' type.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m                                                                           ~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m134[0m:[93m79[0m - [91merror[0m[90m TS7006: [0mParameter 'warnings' implicitly has an 'any' type.

    [7m134[0m       jest.spyOn(validator as any, 'validateChromaDB').mockImplementation((_, warnings) => {
    [7m   [0m [91m                                                                              ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m141[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m141[0m       expect(result.valid).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m142[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m142[0m       expect(result.warnings).toContain('ChromaDB not reachable - will use JSON fallback');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m146[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m146[0m   describe('validateField', () => {
    [7m   [0m [91m  ~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m147[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m147[0m     it('should accept valid field values', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m154[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m154[0m       expect(errors).toHaveLength(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m157[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m157[0m     it('should reject invalid field values', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m164[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m164[0m       expect(errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m165[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m165[0m       expect(errors[0]).toContain('Log level must be debug, info, warn, or error');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m168[0m:[93m5[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m168[0m     it('should handle missing required fields', () => {
    [7m   [0m [91m    ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m176[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m176[0m       expect(errors.length).toBeGreaterThan(0);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m177[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m177[0m       expect(errors[0]).toContain('Required field missing');
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m182[0m:[93m1[0m - [91merror[0m[90m TS2593: [0mCannot find name 'describe'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m182[0m describe('Configuration Security', () => {
    [7m   [0m [91m~~~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m183[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m183[0m   it('should prevent path traversal in jsonDir', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m193[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m193[0m       expect(rule.validator!(path)).toBe(false);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m197[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m197[0m   it('should accept safe relative paths', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m207[0m:[93m7[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m207[0m       expect(rule.validator!(path)).toBe(true);
    [7m   [0m [91m      ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m211[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m211[0m   it('should validate namespace format', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m215[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m215[0m     expect(rule.validator!('mcp-ocs')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m216[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m216[0m     expect(rule.validator!('test-123')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m217[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m217[0m     expect(rule.validator!('a')).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m220[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m220[0m     expect(rule.validator!('MCP-OCS')).toBe(false); // Uppercase
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m221[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m221[0m     expect(rule.validator!('-invalid')).toBe(false); // Leading hyphen
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m222[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m222[0m     expect(rule.validator!('invalid-')).toBe(false); // Trailing hyphen
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m223[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m223[0m     expect(rule.validator!('inv@lid')).toBe(false); // Special characters
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m226[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m226[0m   it('should validate port ranges', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m230[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m230[0m     expect(rule.validator!(8000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m231[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m231[0m     expect(rule.validator!(3000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m232[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m232[0m     expect(rule.validator!(65535)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m235[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m235[0m     expect(rule.validator!(0)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m236[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m236[0m     expect(rule.validator!(-1)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m237[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m237[0m     expect(rule.validator!(65536)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m238[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m238[0m     expect(rule.validator!(99999)).toBe(false);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m241[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m241[0m   it('should validate timeout ranges', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m245[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m245[0m     expect(rule.validator!(5000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m246[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m246[0m     expect(rule.validator!(30000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m247[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m247[0m     expect(rule.validator!(60000)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m250[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m250[0m     expect(rule.validator!(500)).toBe(false); // Too short
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m251[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m251[0m     expect(rule.validator!(400000)).toBe(false); // Too long
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m252[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m252[0m     expect(rule.validator!(-1000)).toBe(false); // Negative
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m255[0m:[93m3[0m - [91merror[0m[90m TS2593: [0mCannot find name 'it'. Do you need to install type definitions for a test runner? Try `npm i --save-dev @types/jest` or `npm i --save-dev @types/mocha` and then add 'jest' or 'mocha' to the types field in your tsconfig.

    [7m255[0m   it('should validate evidence requirements', () => {
    [7m   [0m [91m  ~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m259[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m259[0m     expect(rule.validator!(1)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m260[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m260[0m     expect(rule.validator!(5)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m261[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m261[0m     expect(rule.validator!(10)).toBe(true);
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m264[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m264[0m     expect(rule.validator!(0)).toBe(false); // Too low
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m265[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m265[0m     expect(rule.validator!(15)).toBe(false); // Too high
    [7m   [0m [91m    ~~~~~~[0m
    [96mtests/unit/config/schema.test.ts[0m:[93m266[0m:[93m5[0m - [91merror[0m[90m TS2304: [0mCannot find name 'expect'.

    [7m266[0m     expect(rule.validator!(-1)).toBe(false); // Negative
    [7m   [0m [91m    ~~~~~~[0m

Test Suites: 3 failed, 2 skipped, 3 of 5 total
Tests:       7 skipped, 7 total
Snapshots:   0 total
Time:        0.926 s, estimated 1 s
âœ… Daily regression complete
